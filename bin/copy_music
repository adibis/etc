#!/bin/sh

# This script parses an m3u playlist file and then copies all the files from that
# playlist into the current directory. It also creates directories for appropriate
# music groups

MUSIC_DIR='/home/aditya/Music/'

if [ -z "$1" ]; then
	echo "ERROR: Bad arguments"
	exit 1
fi

PLAYLIST="$1"
IFS="/"

cat $PLAYLIST | while read LINE
do
    set -- $LINE
    array=($@)
    if [ ! -d "${array[0]}" ]; then
        mkdir "${array[0]}"
    fi
    cp "$MUSIC_DIR$LINE" ./"${array[0]}"/
done


